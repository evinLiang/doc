<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>mysql | 技术文档</title>
    <meta name="description" content="本站使用vuepress搭建">
    
    
    <link rel="preload" href="/assets/css/0.styles.6ba01dbc.css" as="style"><link rel="preload" href="/assets/js/app.edc87b8d.js" as="script"><link rel="preload" href="/assets/js/5.7a25009a.js" as="script"><link rel="prefetch" href="/assets/js/10.9bb51991.js"><link rel="prefetch" href="/assets/js/11.5bcfe1b7.js"><link rel="prefetch" href="/assets/js/2.38e306bd.js"><link rel="prefetch" href="/assets/js/3.cce0d305.js"><link rel="prefetch" href="/assets/js/4.9cce9f43.js"><link rel="prefetch" href="/assets/js/6.50f4732d.js"><link rel="prefetch" href="/assets/js/7.b56869e2.js"><link rel="prefetch" href="/assets/js/8.c64e8ff8.js"><link rel="prefetch" href="/assets/js/9.b8cb6ea2.js">
    <link rel="stylesheet" href="/assets/css/0.styles.6ba01dbc.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">技术文档</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/web/HTML.html" class="nav-link">HTML</a></li><li class="dropdown-item"><!----> <a href="/web/CSS.html" class="nav-link">CSS</a></li><li class="dropdown-item"><!----> <a href="/web/JAVASCRIPT.html" class="nav-link">JAVASCRIPT</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">工具</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/tool/git.html" class="nav-link">git</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">服务器</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/server/nginx.html" class="nav-link">nginx</a></li><li class="dropdown-item"><!----> <a href="/server/linux.html" class="nav-link">linux</a></li><li class="dropdown-item"><!----> <a href="/server/mysql.html" class="nav-link router-link-exact-active router-link-active">mysql</a></li></ul></div></div><div class="nav-item"><a href="http://evinweb.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  博客
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/evinLiang" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/web/HTML.html" class="nav-link">HTML</a></li><li class="dropdown-item"><!----> <a href="/web/CSS.html" class="nav-link">CSS</a></li><li class="dropdown-item"><!----> <a href="/web/JAVASCRIPT.html" class="nav-link">JAVASCRIPT</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">工具</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/tool/git.html" class="nav-link">git</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">服务器</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/server/nginx.html" class="nav-link">nginx</a></li><li class="dropdown-item"><!----> <a href="/server/linux.html" class="nav-link">linux</a></li><li class="dropdown-item"><!----> <a href="/server/mysql.html" class="nav-link router-link-exact-active router-link-active">mysql</a></li></ul></div></div><div class="nav-item"><a href="http://evinweb.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  博客
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/evinLiang" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading open"><span>mysql</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/server/mysql.html#安装mysql-centos7" class="sidebar-link">安装mysql(centos7)</a><ul class="sidebar-sub-headers"></ul></li></ul></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="mysql"><a href="#mysql" aria-hidden="true" class="header-anchor">#</a> mysql</h1> <h2 id="安装mysql-centos7"><a href="#安装mysql-centos7" aria-hidden="true" class="header-anchor">#</a> 安装mysql(centos7)</h2> <h4 id="新建mysql文件夹"><a href="#新建mysql文件夹" aria-hidden="true" class="header-anchor">#</a> 新建mysql文件夹</h4> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">cd</span> /
<span class="token function">mkdir</span> mysql
<span class="token function">cd</span> mysql
</code></pre></div><p>之后按照这个操作
https://www.cnblogs.com/julyme/p/5969626.html</p> <h4 id="_1-下载mysql的repo源"><a href="#_1-下载mysql的repo源" aria-hidden="true" class="header-anchor">#</a> 1. 下载mysql的repo源</h4> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">wget</span> http://repo.mysql.com/mysql-community-release-el7-5.noarch.rpm
</code></pre></div><h4 id="_2-安装mysql-community-release-el7-5-noarch-rpm包"><a href="#_2-安装mysql-community-release-el7-5-noarch-rpm包" aria-hidden="true" class="header-anchor">#</a> 2. 安装mysql-community-release-el7-5.noarch.rpm包</h4> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">sudo</span> rpm -ivh mysql-community-release-el7-5.noarch.rpm
</code></pre></div><p>安装这个包后，会获得两个mysql的yum repo源：</p> <div class="language-bash extra-class"><pre class="language-bash"><code>/etc/yum.repos.d/mysql-community.repo
/etc/yum.repos.d/mysql-community-source.repo
</code></pre></div><h4 id="_3-安装mysql"><a href="#_3-安装mysql" aria-hidden="true" class="header-anchor">#</a> 3. 安装mysql</h4> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">sudo</span> yum <span class="token function">install</span> mysql-server
</code></pre></div><p>根据步骤安装就可以了，不过安装完成后，没有密码，需要重置密码。</p> <h4 id="_4-重置密码"><a href="#_4-重置密码" aria-hidden="true" class="header-anchor">#</a> 4. 重置密码</h4> <p>重置密码前，首先要登录</p> <div class="language-bash extra-class"><pre class="language-bash"><code>mysql -u root
</code></pre></div><p>登录时有可能报这样的错：ERROR 2002 (HY000): Can‘t connect to local MySQL server through socket ‘/var/lib/mysql/mysql.sock‘ (2)，原因是/var/lib/mysql的访问权限问题。下面的命令把/var/lib/mysql的拥有者改为当前用户：</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">chown</span> -R openscanner:openscanner /var/lib/mysql
</code></pre></div><h4 id="然后，重启服务："><a href="#然后，重启服务：" aria-hidden="true" class="header-anchor">#</a> 然后，重启服务：</h4> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">service</span> mysqld restart
</code></pre></div><h4 id="接下来登录重置密码："><a href="#接下来登录重置密码：" aria-hidden="true" class="header-anchor">#</a> 接下来登录重置密码：</h4> <div class="language-bash extra-class"><pre class="language-bash"><code>mysql -u root
mysql <span class="token operator">&gt;</span> use mysql<span class="token punctuation">;</span>mysql <span class="token operator">&gt;</span> update user <span class="token keyword">set</span> password<span class="token operator">=</span>password<span class="token punctuation">(</span>‘123456‘<span class="token punctuation">)</span> where user<span class="token operator">=</span>‘root‘<span class="token punctuation">;</span>mysql <span class="token operator">&gt;</span> <span class="token keyword">exit</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="_5-需要更改权限才能实现远程连接mysql数据库"><a href="#_5-需要更改权限才能实现远程连接mysql数据库" aria-hidden="true" class="header-anchor">#</a> 5. 需要更改权限才能实现远程连接MYSQL数据库</h4> <p>可以通过以下方式来确认：</p> <div class="language-sql extra-class"><pre class="language-sql"><code>root<span class="token comment">#mysql -h localhost -uroot -p</span>
Enter password: <span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span>
Welcome <span class="token keyword">to</span> the MySQL monitor<span class="token punctuation">.</span>   Commands <span class="token keyword">end</span> <span class="token keyword">with</span> <span class="token punctuation">;</span> <span class="token operator">or</span> \g<span class="token punctuation">.</span>
Your MySQL connection id <span class="token operator">is</span> <span class="token number">4</span> <span class="token keyword">to</span> server version: <span class="token number">4.0</span><span class="token punctuation">.</span><span class="token number">20</span>a<span class="token operator">-</span>debug
<span class="token keyword">Type</span> ‘help<span class="token punctuation">;</span>’ <span class="token operator">or</span> ‘\h’ <span class="token keyword">for</span> help<span class="token punctuation">.</span> <span class="token keyword">Type</span> ‘\c’ <span class="token keyword">to</span> clear the buffer<span class="token punctuation">.</span>
mysql<span class="token operator">&gt;</span> <span class="token keyword">use</span> mysql<span class="token punctuation">;</span> <span class="token punctuation">(</span>此DB存放MySQL的各种配置信息<span class="token punctuation">)</span>
<span class="token keyword">Database</span> changed
mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> host<span class="token punctuation">,</span><span class="token keyword">user</span> <span class="token keyword">from</span> <span class="token keyword">user</span><span class="token punctuation">;</span> <span class="token punctuation">(</span>查看用户的权限情况<span class="token punctuation">)</span>
mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> host<span class="token punctuation">,</span> <span class="token keyword">user</span><span class="token punctuation">,</span> password <span class="token keyword">from</span> <span class="token keyword">user</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-----------+------+-------------------------------------------+</span>
<span class="token operator">|</span> host       <span class="token operator">|</span> <span class="token keyword">user</span> <span class="token operator">|</span> password                                   <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-----------+------+-------------------------------------------+</span>
<span class="token operator">|</span> localhost <span class="token operator">|</span> root <span class="token operator">|</span> <span class="token operator">*</span><span class="token number">4</span>ACFE3202A5FF5CF467898FC58AAB1D615029441 <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span> <span class="token operator">|</span> root <span class="token operator">|</span> <span class="token operator">*</span><span class="token number">4</span>ACFE3202A5FF5CF467898FC58AAB1D615029441 <span class="token operator">|</span>
<span class="token operator">|</span> localhost <span class="token operator">|</span>       <span class="token operator">|</span>                                            <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-----------+------+-------------------------------------------+</span>
<span class="token number">4</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.01</span> sec<span class="token punctuation">)</span>
</code></pre></div><p>由此可以看出，只能以localhost的主机方式访问。
解决方法：</p> <div class="language-sql extra-class"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">Grant</span> <span class="token keyword">all</span> <span class="token keyword">privileges</span> <span class="token keyword">on</span> <span class="token operator">*</span><span class="token punctuation">.</span><span class="token operator">*</span> <span class="token keyword">to</span> <span class="token string">'root'</span>@'<span class="token operator">%</span><span class="token string">' identified by '</span><span class="token number">123456</span>' <span class="token keyword">with</span> <span class="token keyword">grant</span> <span class="token keyword">option</span><span class="token punctuation">;</span>
<span class="token punctuation">(</span><span class="token operator">%</span>表示是所有的外部机器，如果指定某一台机，就将<span class="token operator">%</span>改为相应的机器名；‘root’则是指要使用的用户名，<span class="token punctuation">)</span>
mysql<span class="token operator">&gt;</span> flush <span class="token keyword">privileges</span><span class="token punctuation">;</span>    <span class="token punctuation">(</span>运行此句才生效，或者重启MySQL<span class="token punctuation">)</span>
Query OK<span class="token punctuation">,</span> <span class="token number">0</span> <span class="token keyword">rows</span> affected <span class="token punctuation">(</span><span class="token number">0.03</span> sec<span class="token punctuation">)</span>
再次查看。。
mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> host<span class="token punctuation">,</span> <span class="token keyword">user</span><span class="token punctuation">,</span> password <span class="token keyword">from</span> <span class="token keyword">user</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-----------+------+-------------------------------------------+</span>
<span class="token operator">|</span> host       <span class="token operator">|</span> <span class="token keyword">user</span> <span class="token operator">|</span> password                                   <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-----------+------+-------------------------------------------+</span>
<span class="token operator">|</span> localhost <span class="token operator">|</span> root <span class="token operator">|</span> <span class="token operator">*</span><span class="token number">4</span>ACFE3202A5FF5CF467898FC58AAB1D615029441 <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span> <span class="token operator">|</span> root <span class="token operator">|</span> <span class="token operator">*</span><span class="token number">4</span>ACFE3202A5FF5CF467898FC58AAB1D615029441 <span class="token operator">|</span>
<span class="token operator">|</span> localhost <span class="token operator">|</span>       <span class="token operator">|</span>                                            <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token operator">%</span>          <span class="token operator">|</span> root <span class="token operator">|</span> <span class="token operator">*</span><span class="token number">4</span>ACFE3202A5FF5CF467898FC58AAB1D615029441 <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-----------+------+-------------------------------------------+</span>
<span class="token number">4</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.01</span> sec<span class="token punctuation">)</span>
</code></pre></div><h4 id="修改权限"><a href="#修改权限" aria-hidden="true" class="header-anchor">#</a> 修改权限</h4> <p>https://www.cnblogs.com/weifeng1463/p/7941625.html
1、登陆mysql数据库</p> <div class="language-sql extra-class"><pre class="language-sql"><code>mysql <span class="token operator">-</span>u root <span class="token operator">-</span>p
</code></pre></div><p>查看user表</p> <div class="language-bash extra-class"><pre class="language-bash"><code>mysql<span class="token operator">&gt;</span> use mysql<span class="token punctuation">;</span>
Database changed
mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> host,user,password from user<span class="token punctuation">;</span>
+--------------+------+-------------------------------------------+
<span class="token operator">|</span> host         <span class="token operator">|</span> user <span class="token operator">|</span> password                                  <span class="token operator">|</span>
+--------------+------+-------------------------------------------+
<span class="token operator">|</span> localhost    <span class="token operator">|</span> root <span class="token operator">|</span> *A731AEBFB621E354CD41BAF207D884A609E81F5E <span class="token operator">|</span>
<span class="token operator">|</span> 192.168.1.1 <span class="token operator">|</span> root <span class="token operator">|</span> *A731AEBFB621E354CD41BAF207D884A609E81F5E <span class="token operator">|</span>
+--------------+------+-------------------------------------------+
2 rows <span class="token keyword">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span>0.00 sec<span class="token punctuation">)</span>
</code></pre></div><p>可以看到在user表中已创建的root用户。host字段表示登录的主机，其值可以用IP，也可用主机名，</p> <p>(1)有时想用本地IP登录，那么可以将以上的Host值改为自己的Ip即可。</p> <p>2、实现远程连接(授权法)</p> <p>将host字段的值改为%就表示在任何客户端机器上能以root用户登录到mysql服务器，建议在开发时设为%。</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">update</span> <span class="token keyword">user</span> <span class="token keyword">set</span> host <span class="token operator">=</span> ’<span class="token operator">%</span>’ <span class="token keyword">where</span> <span class="token keyword">user</span> <span class="token operator">=</span> ’root’<span class="token punctuation">;</span>
</code></pre></div><p>将权限改为ALL PRIVILEGES</p> <div class="language-sql extra-class"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">use</span> mysql<span class="token punctuation">;</span>
<span class="token keyword">Database</span> changed
mysql<span class="token operator">&gt;</span> <span class="token keyword">grant</span> <span class="token keyword">all</span> <span class="token keyword">privileges</span>  <span class="token keyword">on</span> <span class="token operator">*</span><span class="token punctuation">.</span><span class="token operator">*</span> <span class="token keyword">to</span> root<span class="token variable">@'%'</span> identified <span class="token keyword">by</span> <span class="token string">&quot;password&quot;</span><span class="token punctuation">;</span>
Query OK<span class="token punctuation">,</span> <span class="token number">0</span> <span class="token keyword">rows</span> affected <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> flush <span class="token keyword">privileges</span><span class="token punctuation">;</span>
Query OK<span class="token punctuation">,</span> <span class="token number">0</span> <span class="token keyword">rows</span> affected <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> host<span class="token punctuation">,</span><span class="token keyword">user</span><span class="token punctuation">,</span>password <span class="token keyword">from</span> <span class="token keyword">user</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">--------------+------+-------------------------------------------+</span>
<span class="token operator">|</span> host         <span class="token operator">|</span> <span class="token keyword">user</span> <span class="token operator">|</span> password                                  <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------------+------+-------------------------------------------+</span>
<span class="token operator">|</span> localhost    <span class="token operator">|</span> root <span class="token operator">|</span> <span class="token operator">*</span>A731AEBFB621E354CD41BAF207D884A609E81F5E <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">192.168</span><span class="token number">.1</span><span class="token number">.1</span> <span class="token operator">|</span> root <span class="token operator">|</span> <span class="token operator">*</span>A731AEBFB621E354CD41BAF207D884A609E81F5E <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token operator">%</span>            <span class="token operator">|</span> root <span class="token operator">|</span> <span class="token operator">*</span>A731AEBFB621E354CD41BAF207D884A609E81F5E <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------------+------+-------------------------------------------+</span>
<span class="token number">3</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre></div><p>这样机器就可以以用户名root密码root远程访问该机器上的MySql.</p> <h4 id="_3、实现远程连接（改表法）"><a href="#_3、实现远程连接（改表法）" aria-hidden="true" class="header-anchor">#</a> 3、实现远程连接（改表法）</h4> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">use</span> mysql<span class="token punctuation">;</span>

<span class="token keyword">update</span> <span class="token keyword">user</span> <span class="token keyword">set</span> host <span class="token operator">=</span> <span class="token string">'%'</span> <span class="token keyword">where</span> <span class="token keyword">user</span> <span class="token operator">=</span> <span class="token string">'root'</span><span class="token punctuation">;</span>
</code></pre></div><p>这样在远端就可以通过root用户访问Mysql.</p> <h4 id="修改密码"><a href="#修改密码" aria-hidden="true" class="header-anchor">#</a> 修改密码</h4> <p>https://blog.csdn.net/zcwforali/article/details/60597124</p> <h4 id="方法1：-用set-password命令"><a href="#方法1：-用set-password命令" aria-hidden="true" class="header-anchor">#</a> 方法1： 用SET PASSWORD命令</h4> <p>首先登录MySQL。
格式：</p> <div class="language-sql extra-class"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">set</span> password <span class="token keyword">for</span> 用户名<span class="token variable">@localhost</span> <span class="token operator">=</span> password<span class="token punctuation">(</span><span class="token string">'新密码'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
</code></pre></div><p>例子：</p> <div class="language-sql extra-class"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">set</span> password <span class="token keyword">for</span> root<span class="token variable">@localhost</span> <span class="token operator">=</span> password<span class="token punctuation">(</span><span class="token string">'123'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
</code></pre></div><h4 id="方法2：用mysqladmin"><a href="#方法2：用mysqladmin" aria-hidden="true" class="header-anchor">#</a> 方法2：用mysqladmin</h4> <p>格式：</p> <div class="language-sql extra-class"><pre class="language-sql"><code>mysqladmin <span class="token operator">-</span>u用户名 <span class="token operator">-</span>p旧密码 password 新密码
</code></pre></div><p>例子：</p> <div class="language-sql extra-class"><pre class="language-sql"><code>mysqladmin <span class="token operator">-</span>uroot <span class="token operator">-</span>p123456 password <span class="token number">123</span> 
</code></pre></div><h4 id="方法3：用update直接编辑user表"><a href="#方法3：用update直接编辑user表" aria-hidden="true" class="header-anchor">#</a> 方法3：用UPDATE直接编辑user表</h4> <p>首先登录MySQL。</p> <div class="language-sql extra-class"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">use</span> mysql<span class="token punctuation">;</span> 
mysql<span class="token operator">&gt;</span> <span class="token keyword">update</span> <span class="token keyword">user</span> <span class="token keyword">set</span> password<span class="token operator">=</span>password<span class="token punctuation">(</span><span class="token string">'123'</span><span class="token punctuation">)</span> <span class="token keyword">where</span> <span class="token keyword">user</span><span class="token operator">=</span><span class="token string">'root'</span> <span class="token operator">and</span> host<span class="token operator">=</span><span class="token string">'localhost'</span><span class="token punctuation">;</span> 
mysql<span class="token operator">&gt;</span> flush <span class="token keyword">privileges</span><span class="token punctuation">;</span>
</code></pre></div><p>方法4：在忘记root密码的时候，可以这样
以windows为例：</p> <ol><li>关闭正在运行的MySQL服务。</li> <li>打开DOS窗口，转到mysql\bin目录。</li> <li>输入mysqld --skip-grant-tables 回车。--skip-grant-tables 的意思是启动MySQL服务的时候跳过权限表认证。</li> <li>再开一个DOS窗口（因为刚才那个DOS窗口已经不能动了），转到mysql\bin目录。</li> <li>输入mysql回车，如果成功，将出现MySQL提示符 &gt;。</li> <li>连接权限数据库： use mysql; 。</li> <li>改密码：update user set password=password(&quot;123&quot;) where user=&quot;root&quot;;（别忘了最后加分号） 。</li> <li>刷新权限（必须步骤）：flush privileges;　。</li> <li>退出 quit。</li> <li>注销系统，再进入，使用用户名root和刚才设置的新密码123登录。</li></ol> <h4 id="重启"><a href="#重启" aria-hidden="true" class="header-anchor">#</a> 重启</h4> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">service</span> mysqld restart
</code></pre></div></div> <div class="page-edit"><!----> <!----></div> <!----> </div> <!----></div></div>
    <script src="/assets/js/app.edc87b8d.js" defer></script><script src="/assets/js/5.7a25009a.js" defer></script>
  </body>
</html>
